---
title: "Vignette of the `patientProfilesVisSummary` package"
author: "Laure Cougnaud"
date: "`r format(Sys.Date(), '%B %d, %Y')`"
output: 
  rmarkdown::html_document:
    toc: true
    toc_float:
      collapsed: true
    number_sections: true
vignette: >
  %\VignetteIndexEntry{patientProfilesVis package}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

# Introduction

```{r options, echo = FALSE}
	
	library(knitr)
	opts_chunk$set(
		echo = TRUE, results = 'asis', warning = FALSE, 
		error = FALSE, message = FALSE, cache = FALSE,
		fig.width = 8, fig.height = 7,
		fig.path = "./figures_vignette/",
		#out.width = '0.7\\textwidth', 
		fig.align = 'center')#, out.height = 0.5\\textwidth', fig.path = 'graphs/') 
	options(width = 170)#, stringsAsFactors = FALSE
	options(warn = 1)#instead of warn = 0 by default -> to have place where warnings occur in the call to Sweave function
	
```

This package `patientProfilesVis` enables to create report containing subject
profiles.

```{r loadPackages}

#	library(patientProfilesVisSummary)
	library(pander)

```

## Data format

The input dataset for the workflow should be a data.frame, 
usually loaded from a _SAS_ data file (`sas7bdat` format).
The label of the variables stored in the `SAS` datasets is also used
for title/captions. 

The function `loadDataADaMSDTM` from the `patientProfilesVis` package can be
used to load your custom `SAS` dataset(s) of interest.
In this example, the example dataset stored in the `patientProfilesVis`
package is used.

```{r loadData}	
	
	pathData <- "../../../../GLPGSAPCysticFibrosis/data/Pelican/ADAM/20180525 GLPG2737-CL-202-UNBLINDED/GLPG2737-CL-202_ADAM_2018_08AUG_01_ADRE/adre.sas7bdat"
	library(patientProfilesVis)
	dataAll <- loadDataADaMSDTM(files = pathData)
	data <- dataAll$ADRE
	labelVars <- attr(dataAll,"labelVars")
	
	# example dataset(s) formatted as a list of data.frame
	data(ADaMDataPelican)
	
	# and corresponding labels
	data(labelVarsADaMPelican)

```

# Patient summarized profile

## Mean+-SE plot

```{r}

	subjectProfileSummary(
		data = data,
		labelVars = labelVars,
		treatVar = 
	)

```

# Appendix

## Session information


```{r includeSessionInfo, echo = FALSE}

	pander(sessionInfo())

```
